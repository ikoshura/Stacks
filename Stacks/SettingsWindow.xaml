<!-- FILE: Stacks/SettingsWindow.xaml -->
<ui:FluentWindow
    x:Class="Stacks.SettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    mc:Ignorable="d"

    Title="Stacks Settings"
    Width="420"
    SizeToContent="Height"
    WindowStartupLocation="Manual"
    ExtendsContentIntoTitleBar="True"
    WindowBackdropType="Mica"
    WindowCornerPreference="Round"
    WindowStyle="None"
    ResizeMode="NoResize">

    <!-- biar Acrylic jalan -->
    <ui:FluentWindow.Background>
        <SolidColorBrush Color="Transparent"/>
    </ui:FluentWindow.Background>

    <Grid>
        <!-- Border gelap translucent -->
        <Border Margin="0"
                Padding="16"
                Background="Transparent"
                CornerRadius="8"
                BorderThickness="1"
                BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                MouseLeftButtonDown="Border_MouseLeftButtonDown">

            <StackPanel>
                <ui:TextBlock Text="Settings"
                              FontSize="20"
                              FontWeight="SemiBold"
                              Margin="0,0,0,20"/>

                <ui:CardControl Icon="{ui:SymbolIcon Folder24}">
                    <ui:CardControl.Header>
                        <StackPanel>
                            <ui:TextBlock FontTypography="BodyStrong" Text="Source Folder"/>
                            <ui:TextBlock x:Name="SourceFolderTextBlock"
                                          Appearance="Secondary"
                                          Text="C:\Users\user\Downloads"
                                          TextTrimming="CharacterEllipsis"/>
                        </StackPanel>
                    </ui:CardControl.Header>
                    <ui:Button Content="Choose folder"
                               Appearance="Secondary"
                               Click="BrowseButton_Click"/>
                </ui:CardControl>

                <ui:CardControl Icon="{ui:SymbolIcon Power24}" Margin="0,8,0,0">
                    <ui:CardControl.Header>
                        <StackPanel>
                            <ui:TextBlock FontTypography="BodyStrong" Text="Run at Startup"/>
                            <ui:TextBlock Appearance="Secondary" Text="Run Stacks when Windows starts."/>
                        </StackPanel>
                    </ui:CardControl.Header>
                    <ui:ToggleSwitch x:Name="StartupToggleButton"/>
                </ui:CardControl>

                <ui:TextBlock FontTypography="Subtitle"
                              Text="Personalization"
                              Margin="0,24,0,8"/>

                <ui:CardControl Icon="{ui:SymbolIcon Color24}">
                    <ui:CardControl.Header>
                        <StackPanel>
                            <ui:TextBlock FontTypography="BodyStrong" Text="Application Theme"/>
                            <ui:TextBlock Appearance="Secondary" Text="Change the appearance of your application."/>
                        </StackPanel>
                    </ui:CardControl.Header>
                    <ComboBox x:Name="ThemeComboBox"
                              MinWidth="140"
                              SelectionChanged="ThemeComboBox_OnSelectionChanged">
                        <ComboBoxItem Content="Use system setting"/>
                        <ComboBoxItem Content="Light"/>
                        <ComboBoxItem Content="Dark"/>
                    </ComboBox>
                </ui:CardControl>

                <ui:CardControl Icon="{ui:SymbolIcon WindowApps24}" Margin="0,8,0,0">
                    <ui:CardControl.Header>
                        <StackPanel>
                            <ui:TextBlock FontTypography="BodyStrong" Text="Window Effect"/>
                            <ui:TextBlock Appearance="Secondary" Text="Apply a semi-transparent effect (Windows 11 only)."/>
                        </StackPanel>
                    </ui:CardControl.Header>
                    <ui:ToggleSwitch x:Name="BackdropToggleButton"
                                     Checked="BackdropToggleButton_OnChecked"
                                     Unchecked="BackdropToggleButton_OnUnchecked"/>
                </ui:CardControl>

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Margin="0,24,0,0">
                    <ui:Button Content="Save"
                               Appearance="Primary"
                               Click="SaveButton_Click"
                               Margin="0,0,8,0"/>
                    <ui:Button Content="Cancel"
                               Appearance="Secondary"
                               Click="CancelButton_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</ui:FluentWindow>
